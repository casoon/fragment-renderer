---
interface OrderItem {
  name: string;
  quantity: number;
  price: string;
}

interface Props {
  orderNumber: string;
  customerName: string;
  items: OrderItem[];
  subtotal: string;
  shipping: string;
  total: string;
  shippingAddress: string;
}

const {
  orderNumber,
  customerName,
  items,
  subtotal,
  shipping,
  total,
  shippingAddress
} = Astro.props;
---

<html>
  <head>
    <title>Bestellbestätigung #{orderNumber}</title>
  </head>
  <body style="margin: 0; padding: 0; background-color: #f4f4f4; font-family: Arial, sans-serif;">
    <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f4f4f4;">
      <tr>
        <td align="center" style="padding: 40px 0;">
          <table role="presentation" cellpadding="0" cellspacing="0" width="600" style="max-width: 600px; background-color: #ffffff; border-radius: 8px;">
            <!-- Header -->
            <tr>
              <td style="padding: 40px; text-align: center; background-color: #10b981; border-radius: 8px 8px 0 0;">
                <div style="font-size: 48px; margin-bottom: 10px;">✓</div>
                <h1 style="margin: 0; color: #ffffff; font-size: 24px;">
                  Bestellung bestätigt
                </h1>
              </td>
            </tr>

            <!-- Order Info -->
            <tr>
              <td style="padding: 40px;">
                <p style="margin: 0 0 10px; color: #333333; font-size: 16px;">
                  Hallo {customerName},
                </p>
                <p style="margin: 0 0 30px; color: #666666; font-size: 16px; line-height: 1.6;">
                  Vielen Dank für Ihre Bestellung! Wir haben Ihre Bestellung
                  <strong>#{orderNumber}</strong> erhalten und bearbeiten sie.
                </p>

                <!-- Order Items -->
                <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="border: 1px solid #e5e7eb; border-radius: 8px;">
                  <tr style="background-color: #f8f9fa;">
                    <td style="padding: 12px; font-weight: bold; border-bottom: 1px solid #e5e7eb;">Artikel</td>
                    <td style="padding: 12px; font-weight: bold; border-bottom: 1px solid #e5e7eb; text-align: center;">Menge</td>
                    <td style="padding: 12px; font-weight: bold; border-bottom: 1px solid #e5e7eb; text-align: right;">Preis</td>
                  </tr>
                  {items.map((item) => (
                    <tr>
                      <td style="padding: 12px; border-bottom: 1px solid #e5e7eb;">{item.name}</td>
                      <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: center;">{item.quantity}</td>
                      <td style="padding: 12px; border-bottom: 1px solid #e5e7eb; text-align: right;">{item.price}</td>
                    </tr>
                  ))}
                  <tr>
                    <td colspan="2" style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Zwischensumme:</td>
                    <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">{subtotal}</td>
                  </tr>
                  <tr>
                    <td colspan="2" style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Versand:</td>
                    <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">{shipping}</td>
                  </tr>
                  <tr style="background-color: #f8f9fa;">
                    <td colspan="2" style="padding: 12px; text-align: right; font-weight: bold;">Gesamt:</td>
                    <td style="padding: 12px; text-align: right; font-weight: bold; font-size: 18px; color: #10b981;">{total}</td>
                  </tr>
                </table>

                <!-- Shipping Address -->
                <div style="margin-top: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
                  <h3 style="margin: 0 0 10px; font-size: 14px; color: #666666; text-transform: uppercase;">
                    Lieferadresse
                  </h3>
                  <p style="margin: 0; color: #333333; font-size: 14px; white-space: pre-line;">
                    {shippingAddress}
                  </p>
                </div>
              </td>
            </tr>

            <!-- Footer -->
            <tr>
              <td style="padding: 20px 40px; background-color: #f8f9fa; border-radius: 0 0 8px 8px; text-align: center;">
                <p style="margin: 0; color: #666666; font-size: 14px;">
                  Bei Fragen kontaktieren Sie uns unter support@example.com
                </p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
